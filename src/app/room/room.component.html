<div [className]="'room-container'">
  <main [className]="'video-grid'">
    <div [className]="'participant-container'">
      <div [className]="'participant-media-status'"></div>
      <video
        #localVideo
        autoplay
        [className]="'participant-video'"
        [muted]="true"
        controls
        playsinline
        [attr.webkit-playsinline]="'webkit-playsinline'"
      ></video>
      <img
        [className]="'participant-avatar'"
        src="../../assets/orangutan.jpg"
        alt="participant-avatar"
        *ngIf="!isVideoOn"
      />
      <span [className]="'participant-name'"
        >{{ user?.firstName ?? "First Name" }}
        {{ user?.lastName ?? "Last Name" }}</span
      >
    </div>
    <div [className]="'participant-container'">
      <div [className]="'participant-media-status'"></div>
      <video
        #remoteVideo
        autoplay
        [className]="'participant-video'"
        playsinline
        [attr.webkit-playsinline]="'webkit-playsinline'"
      ></video>
      <span [className]="'participant-name'">John Doe</span>
    </div>
  </main>
  <footer [className]="'room-controls-container'">
    <div [className]="'room-controls'">
      <button
        [className]="'control-btn'"
        (click)="toggleMicro()"
        [ngClass]="{ 'active-btn': !isMicroOn }"
      >
        <svg
          *ngIf="isMicroOn"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M23 14V17C23 18.8565 22.2625 20.637 20.9497 21.9497C19.637 23.2625 17.8565 24 16 24C14.1435 24 12.363 23.2625 11.0503 21.9497C9.7375 20.637 9 18.8565 9 17V14H7V17C7.00105 19.2131 7.81745 21.3482 9.29322 22.9973C10.769 24.6465 12.8006 25.6941 15 25.94V28H11V30H21V28H17V25.94C19.1994 25.6941 21.231 24.6465 22.7068 22.9973C24.1825 21.3482 24.9989 19.2131 25 17V14H23Z"
            fill="white"
          />
          <path
            d="M16 22C17.3261 22 18.5979 21.4732 19.5355 20.5355C20.4732 19.5979 21 18.3261 21 17V7C21 5.67392 20.4732 4.40215 19.5355 3.46447C18.5979 2.52678 17.3261 2 16 2C14.6739 2 13.4021 2.52678 12.4645 3.46447C11.5268 4.40215 11 5.67392 11 7V17C11 18.3261 11.5268 19.5979 12.4645 20.5355C13.4021 21.4732 14.6739 22 16 22Z"
            fill="white"
          />
        </svg>
        <svg
          *ngIf="!isMicroOn"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M23 17C22.9961 18.3569 22.5979 19.6833 21.854 20.818C21.11 21.9527 20.0523 22.8468 18.8095 23.3913C17.5667 23.9359 16.1924 24.1076 14.8539 23.8854C13.5154 23.6633 12.2702 23.0569 11.27 22.14L12.69 20.73C13.4103 21.3662 14.2987 21.7814 15.2489 21.9258C16.1991 22.0701 17.1707 21.9376 18.0475 21.5441C18.9243 21.1505 19.6691 20.5126 20.1927 19.7067C20.7164 18.9008 20.9966 17.9611 21 17V12.42L30 3.42L28.59 2L2 28.59L3.41 30L9.85 23.56C11.2615 24.8933 13.0699 25.729 15 25.94V28H11V30H21V28H17V25.94C19.1994 25.6941 21.231 24.6465 22.7068 22.9973C24.1825 21.3482 24.9989 19.2131 25 17V14H23V17ZM9 17.32V14H7V17C7.0013 17.704 7.08521 18.4055 7.25 19.09L9 17.32ZM20.76 5.58C20.3987 4.45355 19.6498 3.49167 18.6463 2.86532C17.6427 2.23896 16.4496 1.9887 15.279 2.15902C14.1083 2.32934 13.036 2.9092 12.2526 3.79555C11.4691 4.68189 11.0253 5.81731 11 7V15.34L20.76 5.58Z"
            fill="white"
          />
        </svg>
      </button>
      <button
        [className]="'control-btn'"
        (click)="toggleVideo()"
        [ngClass]="{ 'active-btn': !isVideoOn }"
      >
        <svg
          *ngIf="isVideoOn"
          width="23"
          height="23"
          viewBox="0 0 23 23"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M14.8083 18.5234H3.18726C2.82466 18.5234 2.47691 18.3794 2.22051 18.123C1.96411 17.8666 1.82007 17.5189 1.82007 17.1562V6.21875C1.82007 5.85615 1.96411 5.5084 2.22051 5.252C2.47691 4.9956 2.82466 4.85156 3.18726 4.85156H14.8083C15.171 4.85156 15.5187 4.9956 15.7751 5.252C16.0315 5.5084 16.1755 5.85615 16.1755 6.21875V8.99414L19.8806 6.34863C19.9826 6.27599 20.1027 6.23277 20.2276 6.2237C20.3525 6.21462 20.4775 6.24004 20.589 6.29718C20.7004 6.35432 20.794 6.44098 20.8596 6.5477C20.9251 6.65442 20.9601 6.7771 20.9607 6.90234V16.4727C20.9601 16.5979 20.9251 16.7206 20.8596 16.8273C20.794 16.934 20.7004 17.0207 20.589 17.0778C20.4775 17.135 20.3525 17.1604 20.2276 17.1513C20.1027 17.1422 19.9826 17.099 19.8806 17.0264L16.1755 14.3809V17.1562C16.1755 17.5189 16.0315 17.8666 15.7751 18.123C15.5187 18.3794 15.171 18.5234 14.8083 18.5234Z"
            fill="white"
          />
        </svg>
        <svg
          *ngIf="!isVideoOn"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M20.31 6H4.00003C3.4696 6 2.96089 6.21071 2.58582 6.58579C2.21074 6.96086 2.00003 7.46957 2.00003 8V24C1.99511 24.0966 1.99511 24.1934 2.00003 24.29L20.31 6ZM29.46 8.11C29.3011 8.03407 29.1249 8.00148 28.9493 8.01553C28.7737 8.02958 28.6049 8.08977 28.46 8.19L23 12.06V10.44L30 3.44L28.56 2L2.00003 28.56L3.44003 30L7.44003 26H21C21.5305 26 22.0392 25.7893 22.4142 25.4142C22.7893 25.0391 23 24.5304 23 24V19.94L28.42 23.81C28.5693 23.9163 28.7449 23.9795 28.9276 23.9928C29.1103 24.006 29.2932 23.9689 29.4562 23.8853C29.6193 23.8017 29.7562 23.6749 29.8521 23.5188C29.948 23.3627 29.9992 23.1832 30 23V9C30.0004 8.81637 29.9502 8.63618 29.855 8.47919C29.7597 8.3222 29.6231 8.19447 29.46 8.11Z"
            fill="white"
          />
        </svg>
      </button>
      <button [className]="'control-btn'" (click)="onShareScreen()">
        <svg
          width="28"
          height="28"
          viewBox="0 0 28 28"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4.25 4.99902C3.65326 4.99902 3.08097 5.23608 2.65901 5.65803C2.23705 6.07999 2 6.65229 2 7.24902V20.749C1.99987 21.0446 2.05797 21.3373 2.17098 21.6104C2.284 21.8835 2.44971 22.1316 2.65866 22.3407C2.8676 22.5497 3.11568 22.7155 3.38873 22.8287C3.66178 22.9418 3.95444 23 4.25 23H23.75C24.3467 23 24.919 22.763 25.341 22.341C25.7629 21.9191 26 21.3468 26 20.75V7.25002C26 6.65329 25.7629 6.08099 25.341 5.65903C24.919 5.23708 24.3467 5.00002 23.75 5.00002L4.25 4.99902ZM14.528 8.84002L17.783 12.095C17.9196 12.2365 17.9951 12.426 17.9933 12.6227C17.9915 12.8193 17.9125 13.0074 17.7734 13.1464C17.6342 13.2854 17.4461 13.3642 17.2495 13.3658C17.0528 13.3674 16.8634 13.2917 16.722 13.155L14.748 11.181V18.628C14.748 18.8269 14.669 19.0177 14.5283 19.1584C14.3877 19.299 14.1969 19.378 13.998 19.378C13.7991 19.378 13.6083 19.299 13.4677 19.1584C13.327 19.0177 13.248 18.8269 13.248 18.628V11.183L11.278 13.155C11.2088 13.2267 11.1261 13.2839 11.0346 13.3232C10.9431 13.3626 10.8447 13.3833 10.7452 13.3842C10.6456 13.3851 10.5468 13.3662 10.4546 13.3285C10.3624 13.2909 10.2787 13.2352 10.2082 13.1648C10.1378 13.0944 10.082 13.0107 10.0443 12.9186C10.0065 12.8264 9.9875 12.7277 9.98832 12.6281C9.98913 12.5285 10.0098 12.4301 10.049 12.3385C10.0883 12.247 10.1454 12.1642 10.217 12.095L13.467 8.84102C13.5367 8.77133 13.6194 8.71604 13.7104 8.67832C13.8014 8.6406 13.899 8.62118 13.9975 8.62118C14.096 8.62118 14.1936 8.6406 14.2846 8.67832C14.3756 8.71604 14.4583 8.77033 14.528 8.84002Z"
            fill="white"
          />
        </svg>
      </button>
      <button [className]="'control-btn active-btn'" (click)="endCall()">
        <svg
          width="23"
          height="23"
          viewBox="0 0 23 23"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M17.377 21.2578C16.543 21.2578 15.3715 20.9562 13.6173 19.9761C11.484 18.7798 9.834 17.6754 7.71229 15.5592C5.66664 13.5148 4.67116 12.1912 3.27791 9.65594C1.70393 6.7934 1.97224 5.29291 2.27217 4.65161C2.62935 3.88513 3.15657 3.4267 3.83803 2.97168C4.22509 2.71808 4.6347 2.50069 5.06166 2.32227C5.10439 2.30389 5.14412 2.28638 5.17958 2.27057C5.39107 2.17529 5.7115 2.03131 6.11739 2.18512C6.38826 2.2868 6.63008 2.49487 7.00862 2.86871C7.78493 3.63434 8.84578 5.33948 9.23714 6.17688C9.49989 6.74127 9.67378 7.11383 9.67421 7.53168C9.67421 8.02087 9.42812 8.39813 9.12947 8.8053C9.0735 8.88177 9.01796 8.95483 8.96413 9.02576C8.63899 9.453 8.56764 9.57648 8.61464 9.79694C8.70991 10.24 9.42042 11.5589 10.5881 12.724C11.7558 13.8891 13.0366 14.5547 13.4814 14.6496C13.7113 14.6987 13.8373 14.6244 14.2782 14.2877C14.3414 14.2394 14.4064 14.1895 14.4743 14.1395C14.9298 13.8007 15.2895 13.561 15.7672 13.561H15.7697C16.1854 13.561 16.5413 13.7413 17.1309 14.0386C17.9 14.4266 19.6564 15.4738 20.4267 16.2509C20.8014 16.6286 21.0103 16.8696 21.1124 17.14C21.2662 17.5472 21.1214 17.8663 21.027 18.08C21.0112 18.1154 20.9937 18.1543 20.9753 18.1974C20.7955 18.6236 20.5768 19.0324 20.322 19.4185C19.8679 20.0978 19.4077 20.6238 18.6395 20.9814C18.2451 21.168 17.8134 21.2625 17.377 21.2578Z"
            fill="white"
          />
        </svg>
      </button>
      <button [className]="'control-btn'" (click)="onCopyToClipboard()">
        <app-copy-svg [fillColor]="'white'" />
      </button>
      <button [className]="'control-btn'" (click)="toggleChat()">
        <app-chat-svg [fillColor]="'white'" />
      </button>
    </div>
  </footer>
</div>
<app-chat
  *ngIf="isChatOpened"
  [messages]="messages"
  [user]="user"
  [room]="room"
  (toggleChat)="toggleChat()"
/>
